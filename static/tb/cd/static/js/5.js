(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{413:function(e,t,n){e.exports=n.p+"static/img/u48.9de95618.png"},414:function(e,t,n){e.exports=n.p+"static/img/tipsimg.0fc9eb3a.png"},416:function(e,t,n){"use strict";var l=n(0),a=n(413),c=n.n(a),o=n(414),i=n.n(o),r=Object(l.gb)("data-v-015a8641");Object(l.H)("data-v-015a8641");var u=Object(l.n)("div",null,[Object(l.n)("p",null,"1，批量导入之前先下载批量导入的模板"),Object(l.n)("p",null,"2，按照表格要求填写重点人员数据"),Object(l.n)("p",null,"3，照片名称用重点人的身份证号码做为照片名称，例如：511323187612032123"),Object(l.n)("p",null,"4，一个重点人员有多个工作人员关注时，填写多个人员信息"),Object(l.n)("p",null,"5，尽量使用只有上半身、背景干净的人脸大头贴（如下图）"),Object(l.n)("p",null,[Object(l.n)("img",{src:c.a,alt:"",style:{width:"120px"}})]),Object(l.n)("p",null,"6，不规则照片示例："),Object(l.n)("p",null,[Object(l.n)("img",{src:i.a,alt:"",style:{width:"100%"}})])],-1);Object(l.F)();var p=r(function(e,t,n,a,c,o){var i=Object(l.N)("el-dialog");return Object(l.E)(),Object(l.j)(i,{title:"人员批量导入注意事项",modelValue:e.dialogTableVisible,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.dialogTableVisible=t}),width:"60%",top:"4vh"},{default:r(function(){return[u]}),_:1},8,["modelValue"])}),b=n(21),s={name:"tips",props:{type:String,reload:Function},setup:function(e){var t=Object(l.I)({dialogTableVisible:!1});return Object(b.a)(Object(b.a)({},Object(l.U)(t)),{},{openDialog:function(){t.dialogTableVisible=!0}})}};s.render=p,s.__scopeId="data-v-015a8641";t.a=s},419:function(e,t,n){},432:function(e,t,n){"use strict";n(419)},446:function(e,t,n){"use strict";n.r(t);n(75),n(412);var l=n(0),a=Object(l.gb)("data-v-163084f8");Object(l.H)("data-v-163084f8");var c=Object(l.m)(" 查询 "),o=Object(l.m)("新增工作人员 "),i=Object(l.m)("下载模板 "),r=Object(l.m)("批量导入 "),u=Object(l.m)("导出工作人员信息 "),p=Object(l.m)("批量导入注意事项 "),b=Object(l.m)("编辑"),s=Object(l.m)("删除");Object(l.F)();var d=a(function(e,t,n,d,O,j){var f=Object(l.N)("el-option"),m=Object(l.N)("el-select"),g=Object(l.N)("el-col"),k=Object(l.N)("el-date-picker"),y=Object(l.N)("el-input"),v=Object(l.N)("el-button"),h=Object(l.N)("el-row"),w=Object(l.N)("el-table-column"),C=Object(l.N)("el-table"),T=Object(l.N)("el-pagination"),_=Object(l.N)("el-card"),N=Object(l.N)("WorkingPersonnelAdd"),z=Object(l.N)("tips"),x=Object(l.O)("loading");return Object(l.E)(),Object(l.j)(l.b,null,[Object(l.n)(_,{class:"index-container"},{default:a(function(){return[Object(l.n)(h,{gutter:30,type:"flex",justify:"start"},{default:a(function(){return[Object(l.k)('            <el-col :span="4" >'),Object(l.k)('                <el-select size="small" v-model="personType"  placeholder="请选择人员类型">'),Object(l.k)("                    <el-option"),Object(l.k)('                            v-for="item in personTypeOptions"'),Object(l.k)('                            :key="item.value"'),Object(l.k)('                            :label="item.label"'),Object(l.k)('                            :value="item.value">'),Object(l.k)("                    </el-option>"),Object(l.k)("                </el-select>"),Object(l.k)("            </el-col>"),Object(l.n)(g,{span:6},{default:a(function(){return[Object(l.n)(m,{size:"small",clearable:"",modelValue:e.personType,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.personType=t}),placeholder:"请选择人员职位"},{default:a(function(){return[(Object(l.E)(!0),Object(l.j)(l.b,null,Object(l.L)(e.personTypeOptions,function(e){return Object(l.E)(),Object(l.j)(f,{key:e.id,label:e.value,value:e.id},null,8,["label","value"])}),128))]}),_:1},8,["modelValue"])]}),_:1}),Object(l.n)(g,{span:6},{default:a(function(){return[Object(l.n)(k,{size:"small",modelValue:e.dateTime,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.dateTime=t}),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])]}),_:1}),Object(l.n)(g,{span:8},{default:a(function(){return[Object(l.n)(y,{size:"small",modelValue:e.keyWord,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.keyWord=t}),clearable:"",onKeyup:Object(l.eb)(e.handleQuery,["enter","native"]),placeholder:"请输入工作人员姓名进行搜索"},null,8,["modelValue","onKeyup"])]}),_:1}),Object(l.n)(g,{span:2},{default:a(function(){return[Object(l.n)(v,{size:"small",icon:"el-icon-search",type:"primary","native-type":"submit",onClick:e.handleQuery},{default:a(function(){return[c]}),_:1},8,["onClick"])]}),_:1})]}),_:1}),Object(l.n)(h,{gutter:30,type:"flex",justify:"start",style:{"margin-top":"10px"}},{default:a(function(){return[Object(l.n)(g,{span:20},{default:a(function(){return[Object(l.n)(v,{size:"small",icon:"el-icon-plus",type:"primary","native-type":"submit",onClick:e.addPerson},{default:a(function(){return[o]}),_:1},8,["onClick"]),Object(l.n)(v,{size:"small",icon:"el-icon-download",type:"success","native-type":"submit",onClick:e.uncultivated},{default:a(function(){return[i]}),_:1},8,["onClick"]),Object(l.n)(v,{size:"small",icon:"el-icon-upload2",type:"success","native-type":"submit",onClick:e.uncultivated},{default:a(function(){return[r]}),_:1},8,["onClick"]),Object(l.n)(v,{size:"small",icon:"el-icon-download",type:"success","native-type":"submit",onClick:e.uncultivated},{default:a(function(){return[u]}),_:1},8,["onClick"]),Object(l.n)(v,{size:"small",type:"text","native-type":"submit",onClick:e.checkTipsDialog},{default:a(function(){return[p]}),_:1},8,["onClick"])]}),_:1})]}),_:1}),Object(l.db)(Object(l.n)(C,{border:"",size:"small",data:e.tableData,align:"center","tooltip-effect":"dark",style:{width:"100%","margin-top":"20px"}},{default:a(function(){return[Object(l.n)(w,{prop:"name",label:"姓名",align:"center","min-width":"100"}),Object(l.n)(w,{prop:"positionName",label:"职位",align:"center","min-width":"120"}),Object(l.k)('            <el-table-column  prop="villageName" label="管辖村/镇" align="center" min-width="120"></el-table-column>'),Object(l.n)(w,{prop:"mobile",label:"联系电话",align:"center","min-width":"120"}),Object(l.n)(w,{prop:"kpCount",label:"关爱服务人员数",align:"center","min-width":"100"},{default:a(function(t){return[Object(l.k)("                    <span>{{scope.row.kpCount ? '是' : '否'}}</span>"),Object(l.n)(v,{type:"text",onClick:function(n){return e.checkKpCount(t.row)}},{default:a(function(){return[Object(l.m)(Object(l.R)(t.row.kpCount),1)]}),_:2},1032,["onClick"])]}),_:1}),Object(l.n)(w,{prop:"ifCore",label:"关爱在家开通",align:"center","min-width":"120"},{default:a(function(e){return[Object(l.n)("span",null,Object(l.R)(e.row.ifCore?"是":"否"),1),Object(l.k)('                    <el-switch v-model="scope.row.ifCore" active-text="是" inactive-text="否"></el-switch>')]}),_:1}),Object(l.n)(w,{prop:"ifGather",label:"采点小程序开通",align:"center","min-width":"120"},{default:a(function(e){return[Object(l.n)("span",null,Object(l.R)(e.row.ifGather?"是":"否"),1),Object(l.k)('                    <el-switch v-model="scope.row.ifGather" active-text="是" inactive-text="否"></el-switch>')]}),_:1}),Object(l.n)(w,{prop:"createdDate",label:"创建时间",align:"center","min-width":"120"},{default:a(function(e){return[Object(l.n)("span",null,Object(l.R)(e.row.createdDate.split(" ")[0]),1)]}),_:1}),Object(l.n)(w,{prop:"address",label:"操作",align:"center","min-width":"180"},{default:a(function(t){return[Object(l.k)('                    <el-button size="small" type="text" native-type="submit" @click="handleQuery">详情</el-button>'),Object(l.n)(v,{size:"small",type:"text","native-type":"submit",style:{color:"#85ce61"},onClick:function(n){return e.editWorker(t.row,t.row.id)}},{default:a(function(){return[b]}),_:2},1032,["onClick"]),Object(l.n)(v,{size:"small",type:"text","native-type":"submit",style:{color:"#f78989"},onClick:function(n){return e.deletePerson(t.row,t.row.id)}},{default:a(function(){return[s]}),_:2},1032,["onClick"])]}),_:1})]}),_:1},8,["data"]),[[x,e.loading]]),Object(l.n)(T,{background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10],total:e.total,"page-size":e.pageSize,"current-page":e.pageNum,onCurrentChange:e.changePage},null,8,["total","page-size","current-page","onCurrentChange"])]}),_:1}),Object(l.n)(N,{ref:"addWorking",onWorkerOption:e.workerOption},null,8,["onWorkerOption"]),Object(l.n)(z,{ref:"checkTips"},null,512)],64)}),O=n(21),j=(n(411),n(73),n(33)),f=n(19),m=n(74),g=n(429),k=n(416),y=Object(l.o)({name:"工作人员管理",components:{WorkingPersonnelAdd:g.a,tips:k.a},setup:function(){var e=Object(f.d)(),t=Object(l.J)(null),n=Object(l.J)(null),a=Object(l.J)(null),c=Object(l.J)(null),o=Object(l.J)(null),i=Object(l.I)({loading:!1,tableData:[],pageNum:1,pageSize:10,total:0,keyWord:null,personType:null,dateTime:null,queryForm:{title:"",personType:"",dateTime:""},personTypeOptions:[]});Object(l.B)(function(){u(),r()});var r=function(){m.a.get("/govern/position/getPositions").then(function(e){200==e.code&&(i.personTypeOptions=e.data.positions)})};Object(l.ab)(n,function(e,t,n){i.keyWord=e,""==e&&(i.pageNum=1,u())},{lazy:!0}),Object(l.ab)(a,function(e,t,n){i.personType=e,i.pageNum=1,u()},{lazy:!0}),Object(l.ab)(c,function(e,t,n){i.dateTime=e,i.pageNum=1,u()},{lazy:!0});var u=function(){i.loading=!0;var e={name:i.keyWord,workPosition:i.personType};i.dateTime&&i.dateTime.length&&(e.startDate=i.dateTime[0],e.endDate=i.dateTime[1]),m.a.post("/govern/worker/info/selectWorkerInfoList?pageNum=".concat(i.pageNum,"&pageSize=").concat(i.pageSize),e).then(function(e){200==e.code&&(i.tableData=e.rows,i.total=e.total,i.loading=!1)})};return Object(O.a)(Object(O.a)({},Object(l.U)(i)),{},{getPositionList:r,handleQuery:function(){i.pageNum=1,u()},changePage:function(e){i.pageNum=e,u()},deletePerson:function(e,t){j.b.confirm("您确定要删除"+e.name+", 是否继续?","删除重点人员",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){m.a.post("/govern/worker/info/deleteWorkerInfo?id=".concat(t)).then(function(e){200==e.code&&(i.pageNum=1),u(),Object(j.a)({type:"success",message:"删除成功!"})})}).catch(function(){Object(j.a)({type:"info",message:"已取消删除"})})},addPerson:function(){t.value.openDialog()},addWorking:t,getWorkerList:u,keyWord:n,personType:a,checkKpCount:function(t){t.kpCount>0?e.push({path:"/user/kpCount",query:{id:t.id}}):Object(j.a)({type:"info",message:"没有关联服务人员!"})},editWorker:function(e,n){t.value.openDialog(e)},workerOption:function(e){"add"==e&&(i.pageNum=1),u()},uncultivated:function(){Object(j.a)({type:"info",message:"此功能待开发!"})},checkTips:o,dateTime:c})}});n(432);y.render=d,y.__scopeId="data-v-163084f8";t.default=y}}]);